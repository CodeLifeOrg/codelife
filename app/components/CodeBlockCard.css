@import "../mixins.css";

/* make room for absolutely positioned icon */
.codeblock-card-caption {
  margin-left: var(--gutter-sm);
}

/* icon */
.card-island-icon {
  /* sizing */
  display: block;
  width: 1rem;
  height: 1rem;
  /* positioning */
  position: absolute;
  top: 0.75rem;
  left: -0.4rem;
  background-size: cover;
}


/* inline card dialog */
.codeblock-card + .pt-overlay-inline {
  /* fix positioning for inline overlay */
  position: fixed !important; /* blueprint override */

  /* add background when it's open */
  &.pt-overlay-open {
    background-color: rgba(16, 22, 26, 0.7);
  }
}


/* dialog */
.codeblock-dialog {
  padding-bottom: 0; /* blueprint override */

  /* reset margin on inner content */
  & .codeblock-dialog-inner {
    margin-bottom: 0;
  }

  /* override margin inhereted from content */
    & .pt-dialog-header-title,
    & .pt-dialog-close-button {
      margin-top: 0;
      margin-bottom: 0;
  }

  /* footer */
  & .codeblock-dialog-footer {
    /* reset margin & padding */
    margin: 0;
    padding: var(--gutter-sm) 20px;
    /* theming */
    background-color: var(--white);
    border-radius: 0 0 var(--radius-lg) var(--radius-lg);

    /* set reasonable max width for user generated content */
    & .user-link,
    & .share-link {
      @add-mixin overflow-ellipsis;
      display: inline-block;
      vertical-align: bottom; /* blueprint override */
      max-width: 100%;
    }
    @add-mixin min-sm {
      & .user-link {
        max-width: 20.5rem;
      }
      & .share-link {
        max-width: 25rem;
      }
    }

    /* stacked layout on small screens */
    @add-mixin max-sm {
      & .codeblock-dialog-footer-byline,
      & .codeblock-dialog-footer-actions {
        display: block;
        width: 100%;
        float: none; /* reset */
      }
      /* space out byline & actions */
      & .codeblock-dialog-footer-actions {
        top: 0.25rem;
      }
    }
  }

  /* actions */
  & .codeblock-dialog-footer-actions {
    /* vertically center inline items */
    & > * {
      display: inline-block;
      vertical-align: middle;

      /* space out items */
      &:not(:last-child) {
        margin-right: 1rem;
      }
    }
  }

  /* space out icon and text */
  & .codeblock-dialog-footer-action-icon {
    margin-right: 0.3em;
  }
  /* set text height */
  & .codeblock-dialog-footer-action-text {
    line-height: 2.125rem;
  }

  /* flag button theme */
  & .flag-button {
    transition: color 0.2s;

    &:hover, &:focus {
      color: var(--danger);
    }
  }
}


/* fork popover */
.fork-popover-inner {
  min-width: 16rem;
}
