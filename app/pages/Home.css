@import "../mixins.css";

.home {
  & .island {
    & .image {
      height: 900px;
      margin-top: -var(--gutter-md);
    }
    & .pt-button {
      margin-top: var(--gutter-xs);
    }
    & .title {
      color: var(--white);
      flex: 1;
      font-size: 18px;
      font-weight: 400;
      margin: 0 auto;
      max-width: 400px;
      text-align: center;
    }
  }
  & .video {
    align-items: center;
    background-image: url("/home/clouds.jpg");
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    box-shadow: 0 2px var(--gutter-xxs) rgba(0, 0, 0, 0.5);
    cursor: pointer;
    display: flex;
    height: 281px;
    justify-content: center;
    margin: 100px auto var(--gutter-lg);
    max-width: 500px;
    width: 100%;
    & .play {
      background-color: rgba(0, 0, 0, 0.5);
      border-bottom-left-radius: 25% 15%;
      border-bottom-right-radius: 25% 15%;
      border-top-left-radius: 25% 15%;
      border-top-right-radius: 25% 15%;
      color: var(--white);
      display: block;
      height: var(--gutter-lg);
      text-align: center;
      transition: background-color 0.2s;
      width: 70px;
      & .pt-icon-play {
        font-size: var(--gutter-md);
        margin-top: var(--gutter-xs);
      }
      &:before {
        background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0));
        content: "";
        height: var(--gutter-lg);
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
      }
      & .video-title {
        color: var(--white);
        font-family: "YouTube Noto", "Roboto", Arial, Helvetica, sans-serif;
        font-size: 18px;
        left: var(--gutter-xs);
        position: absolute;
        top: var(--gutter-xs);
      }
    }
    &:hover .play {
      background-color: var(--danger);
    }
  }

  & .authform-button {
    text-transform: lowercase;

    /* stacked */
    @add-mixin max-xs {
      width: 100%;
    }
    /* inline */
    @add-mixin min-xs {
      &:first-of-type {
        margin-right: 2em;
      }
    }
  }

  /* card sidebar layout */
  & .card-sidebar {
    padding-bottom: var(--gutter-sm);

    /* side by side layout on bigger screens */
    @add-mixin min-md {
      width: 12.5rem; /* limit sidebar width */

      /* shared layout style between sidebar and card list */
      &, & + .card-list {
        float: left; /* can't do inline-block here because card-list needs flex */
      }

      & + .card-list {
        /* sizing */
        width: calc(100% - 12.5rem - 3.75rem); /* account for sidebar and gutter */
        /* positioning */
        margin-top: 1.25rem;
        top: 1px; /* fudge into place */
        left: 3.75rem; /* gutter */
      }
    }
  }

  /* card layout */
  & .card-list {
    @add-mixin card-layout-base;

    /* stacked cards */
    @media (max-width: 599px) {
      @add-mixin card-layout-stacked;
    }

    /* 3 column layout */
    @media (min-width: 600px) {
      @add-mixin card-layout-3col;
    }

    /* hide any cards after the first 6 */
    & .card-container:nth-of-type(n + 6) ~ .card-container  {
      display: none !important;
    }
  }
}


/* flip video & intro text on smaller screens */
@add-mixin max-md {
  .home-header > .header-half-container {
    @supports (order: 1) { /* but only if flex order is supported by the browser */
      display: flex;
      flex-direction: column;

      & > .header-half {
        width: 100%;

        &:first-of-type {
          order: 1;
        }

        &:last-of-type {
          top: -2.5rem;
        }
      }
    }
  }
}


/* logged in header */
.logged-in-home-header {

  /* center island */
  & .island-link {
    margin-left: auto;
    margin-right: auto;
    /* no one ever resizes their screen, buuuuuut in case they do: */
    transition: transform 0.1s ease-out;
  }

  /* scale up island on bigger screens */
  @add-mixin min-xs {
    & .island-link { transform: scale(1.25); }
    & .header-headline { top: -1.5rem; }
  }
  @add-mixin min-sm {
    & .island-link { transform: scale(1.375); }
    & .header-headline { top: -2.25rem; }
  }
  @add-mixin min-md {
    & .island-link { transform: scale(1.5); }
    & .header-headline { top: -4rem; }
  }
  @add-mixin min-xl {
    & .island-link { transform: scale(1.75); }
    & .header-headline { top: -6rem; }
  }
}


/* three features */
.feature-list {

  /* icon */
  & .feature-icon {
    /* sizing */
    width: 3.25rem;
    height: 3.25rem;
    /* base theming */
    background: var(--light-1);
    border-radius: 50%;
    box-shadow: 0 2px 2em rgba(8, 26, 24, 0.25);
    overflow: hidden;
    /* align icon & text */
    vertical-align: middle;
    /* center icon */
    text-align: center;

    /* the icon itself */
    &:before {
      font-size: 1.625em; /* size according to .feature-icon font size */
      line-height: 3.25rem; /* container height */
      /* base theme */
      color: var(--dark-2);
    }
  }

  /* stacked layout */
  @add-mixin max-sm {
    /* space out adjacent items */
    & .feature-item + .feature-item {
      margin-top: 2em;
    }
    /* space out text from icon */
    & .feature-text {
      /* sizing */
      display: inline-block;
      width: calc(100% - 3.25rem); /* account for icon */
      /* positioning */
      padding-left: 1rem;
      vertical-align: middle;
    }
  }

  /* 3 col layout */
  @add-mixin min-sm {
    & .feature-item {
      /* sizing */
      width: 30%; /* fallback */
      width: calc(33.3% - 1rem);
      /* positioning */
      display: inline-block;
      vertical-align: top; /* blueprint override */
      /* center children */
      text-align: center;

      /* space out adjacent elements */
      & + .feature-item {
        margin-left: 1.5rem;
      }

      /* icon */
      & .feature-icon {
        /* sizing */
        width: 4.5rem;
        height: 4.5rem;
        /* positioning */
        margin-left: auto;
        margin-right: auto;
        /* make the text move to its own line */
        display: block;
        margin-bottom: 0.5em;

        /* size the icon itself */
        &:before {
          line-height: 4.5rem; /* container height */
        }
      }
    }
  }
}


/* what you'll learn */
.learn-section {

  /* stacked layout */
  @add-mixin max-sm {
    margin-top: var(--gutter-md);
    margin-bottom: var(--gutter-lg);

    & .learn-figure {
      top: -1rem;
    }
  }

  /* 2 col layout */
  @add-mixin min-sm {
    margin-top: var(--gutter-lg);
    margin-bottom: var(--gutter-lg);

    & .learn-caption {
      width: 22.5rem;
      padding-bottom: var(--gutter-xl);
    }
    & .learn-figure {
      margin-left: auto;
      width: calc(100% - 22.5rem);
      text-align: center;
      float: right;

      & .learn-img {
        min-width: 43rem;
        top: -1.5rem;
      }
    }
  }

  /* offset default list item margin */
  & .learn-list-item + .learn-list-item {
    margin-top: -0.75em;
  }
}
